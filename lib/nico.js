var e,shuffle,nicoJS=function(){function t(t){var i;this.version="1.2.4",this.timer=null,this.interval=null,this.fps=1e3/30,this.step=2e3,this.comments=[],this.app=t.app,this.font_size=t.font_size||50,this.color=t.color||"#fff",this.width=t.width||500,this.height=t.height||300,this.speed=t.speed||4,this.band_list=shuffle(function(){i=[];for(var t=0,e=Math.floor(this.height/this.font_size);0<=e?t<e:e<t;0<=e?t++:t--)i.push(t);return i}.apply(this)),this.band_index=0,this.render()}return t.prototype.render=function(){return this.app.style.whiteSpace="nowrap",this.app.style.overflow="hidden",this.app.style.position="relative",this.app.style.width=this.width+"px",this.app.style.height=this.height+"px",console.log("nicoJS@"+this.version),console.log(" ├─ author     : yuki540"),console.log(" ├─ homepage   : http://yuki540.com"),console.log(" └─ repository : https://github.com/yuki540net/nicoJS")},t.prototype.resize=function(t,e){return this.width=t,this.height=e,this.app.style.width=this.width+"px",this.app.style.height=this.height+"px"},t.prototype.send=function(t){var e,i,s,h,n,o,r;return console.log(this.band_list),n=t.text||"",e=t.color||this.color,s=t.size||this.font_size,h=t.speed||this.speed,o=this.width,r=this.band_list[this.band_index]*(this.height-this.font_size)/this.band_list.length,i=document.createElement("div"),this.band_index=this.band_index+1,i.innerHTML=n,i.style.position="absolute",i.style.left=o+"px",i.style.top=r+"px",i.style.fontSize=s+"px",i.style.textShadow="0 0 5px #111",i.style.color=e,this.app.appendChild(i),this.comments.push({ele:i,x:o,y:r,speed:h,dflg:0})},t.prototype.flow=function(){for(var t,e,i=[],s=e=0,h=this.comments.length;0<=h?e<h:h<e;s=0<=h?++e:--e)t=-1*this.comments[s].ele.getBoundingClientRect().width,this.comments[s].x>=t&&(this.comments[s].x-=this.comments[s].speed,this.comments[s].ele.style.left=this.comments[s].x+"px"),this.comments[s].x<t&0===this.comments[s].dflg?(this.app.removeChild(this.comments[s].ele),i.push(this.comments[s].dflg=1)):i.push(void 0);return i},t.prototype.listen=function(){return this.stop(),this.timer=setInterval(function(){return t.flow()},(t=this).fps);var t},t.prototype.loop=function(t){var e,i=0,s=t.length;return this.listen(),this.send(t[i++]),this.interval=setInterval(function(){return s<i&&(i=0),e.send(t[i++])},(e=this).step)},t.prototype.stop=function(){return clearInterval(this.timer),clearInterval(this.interval)},t}();try{module.exports=nicoJS}catch(t){e=t}shuffle=function(t){var e,i,s,h=t.length;if(0===h)return t;for(;--h;)e=Math.floor(Math.random()*(h+1)),i=t[h],s=t[e],t[h]=s,t[e]=i;return t};